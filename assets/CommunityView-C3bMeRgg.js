import{_,v as C,o as s,c as n,a as t,t as r,F as f,n as g,m as k,J as b,h as x,r as y,k as $,j as w,K as I,N as S,d as h,q as B,p as D,g as M}from"./index-BZNf6Ntn.js";import{C as V}from"./CommunityCreate-B29AeLmC.js";const j="/assets/empty_popcorn_box-DbBlqDma.png",L={class:"communityitem"},O={class:"container card"},q={class:"row"},N={class:"col-5"},P=["src"],T={class:"col",style:{"font-family":"'KCC-Hanbit'"}},U={class:"card-text"},A={style:{display:"flex","margin-block-end":"0"}},F={__name:"CommunityCardItem",props:{community:Object},setup(e){const c=C(),a=o=>{console.log("click"),c.push({name:"communitydetail",params:{communityId:o}})};return(o,i)=>(s(),n("div",L,[t("div",O,[t("div",q,[t("div",N,[t("img",{src:e.community.movie_poster,alt:"..."},null,8,P)]),t("div",T,[t("h1",null,r(e.community.title),1),t("p",null,r(e.community.movie_title),1),t("p",U,r(e.community.content),1),t("div",A,[t("button",{class:"btn",onClick:i[0]||(i[0]=u=>a(e.community.id))}," POT에 참여하기 ")])])])])]))}},K=_(F,[["__scopeId","data-v-a2a30a93"]]),R={__name:"CommunityList",props:{communities:Object},setup(e){return(c,a)=>(s(),n("div",null,[(s(!0),n(f,null,g(e.communities,o=>(s(),k(K,{key:o.id,community:o},null,8,["community"]))),128))]))}},z=_(R,[["__scopeId","data-v-014b0d73"]]),v=e=>(D("data-v-bc22cffd"),e=e(),M(),e),E={class:"community container"},H={class:"row row-handler"},J={class:"col col-md-9",style:{display:"flex","justify-content":"center","align-items":"center"}},G={class:"input-group input-handler",style:{"text-align":"center"}},Q={class:"d-grid col-12 mx-auto"},W=v(()=>t("p",null,"커뮤니티를 조회할 영화 목록을 선택하세요",-1)),X=v(()=>t("option",{value:"",disabled:"",selected:""},"조회할 영화를 선택하세요",-1)),Y=["value"],Z={class:"col-3"},tt={class:"row row-handler"},et={key:0},ot={key:1},st=v(()=>t("div",{class:"empty"},[t("img",{src:j,alt:""})],-1)),nt=[st],it={__name:"CommunityView",setup(e){const c=b(),a=x(),o=y([]),i=y(""),u=async function(){if(a.token)try{const l=await B({method:"get",url:`${a.API_URL}/marshmovie/movies/likes`,headers:{Authorization:`Token ${a.token}`}});o.value=l.data,console.log(o.value)}catch(l){console.log(l)}},p=$(()=>i.value?c.communities.filter(l=>l.movie===i.value):c.communities);return w(async()=>{await u(),await c.getCommunities()}),(l,d)=>(s(),n("div",E,[t("div",H,[t("div",J,[t("div",G,[t("div",Q,[W,I(t("select",{required:"",class:"d-grid gap-2 col-12 mx-auto form-control","aria-labelledby":"navbarDropdown","onUpdate:modelValue":d[0]||(d[0]=m=>i.value=m),onChange:d[1]||(d[1]=m=>u()),style:{"min-height":"40px"}},[X,(s(!0),n(f,null,g(o.value,m=>(s(),n("option",{key:m.id,value:m.id},r(m.title),9,Y))),128))],544),[[S,i.value]])])])]),t("div",Z,[h(V,{class:"communitycreate"})])]),t("div",tt,[p.value.length?(s(),n("div",et,[h(z,{communities:p.value},null,8,["communities"])])):(s(),n("div",ot,nt))])]))}},lt=_(it,[["__scopeId","data-v-bc22cffd"]]);export{lt as default};
