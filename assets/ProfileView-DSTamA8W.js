import{d as $}from"./profile-DjAHAP-4.js";import{_ as x,h as C,i as S,r as k,j as V,k as B,c as a,a as s,t as u,u as t,l as p,m as v,w as g,F as I,n as U,q as f,o,b as y,R as A,p as M,g as T}from"./index-BZNf6Ntn.js";const L=d=>(M("data-v-e6260b84"),d=d(),T(),d),z={class:"profile-body"},N={class:"profile-hander"},D={class:"row"},E={class:"col-4"},F=["src"],j={key:1,src:$,alt:"기본이미지",style:{width:"10rem","border-radius":"10px"}},q={class:"col"},G={key:0},H={key:1},J={class:"col"},K={class:"col list-handler"},O=L(()=>s("h3",null,"좋아요한 영화 목록",-1)),Q=L(()=>s("h3",null,"생성한 커뮤니티 목록",-1)),W={__name:"ProfileView",setup(d){const n=C(),_=n.state.user,l=S().params.userId,c=k([]),P=function(){const r=n.API_URL,i=n.token;f({method:"get",url:`${r}/accounts/profile/${l}`,headers:{Authorization:`Token ${i}`}}).then(e=>{c.value=e.data,console.log(c.value)}).catch(e=>{console.log(e)})},h=k([]),m=k([]),R=function(){const r=n.API_URL,i=n.token;f({method:"get",url:`${r}/accounts/user/liked-movies/`,headers:{Authorization:`Token ${i}`}}).then(e=>{h.value=e.data,console.log(h.value)}).catch(e=>{console.log(e)})},b=function(){const r=n.API_URL,i=n.token;f({method:"get",url:`${r}/accounts/user/created-communities/`,headers:{Authorization:`Token ${i}`}}).then(e=>{m.value=e.data,console.log(m.value)}).catch(e=>{console.log(e)})};V(()=>{P(),R(),b()});const w=B(()=>{const r=n.API_URL;return c.value.profile_image?`${r}${c.value.profile_image}`:""});return(r,i)=>(o(),a("div",z,[s("div",N,[s("div",D,[s("div",E,[c.value.profile_image?(o(),a("img",{key:0,src:w.value,alt:"프로필 이미지",style:{width:"13rem","border-radius":"10px"}},null,8,F)):(o(),a("img",j))]),s("div",q,[s("h1",null,u(c.value.nickname)+"님의 공간입니다",1),t(_).pk==t(l)?(o(),a("p",G," ID : "+u(t(l)),1)):p("",!0),t(_).pk==t(l)?(o(),a("p",H," E-MAIL : "+u(c.value.email),1)):p("",!0),s("div",J,[t(_).pk==t(l)?(o(),v(t(A),{key:0,to:{name:"profileupdate",params:{userId:t(l)}},class:"btn btn-primary"},{default:g(()=>[y("회원정보 수정")]),_:1},8,["to"])):p("",!0),t(_).pk==t(l)?(o(),v(t(A),{key:1,to:{name:"passwordchange"},class:"btn btn-primary"},{default:g(()=>[y("비밀번호 변경")]),_:1})):p("",!0)])])]),s("div",K,[O,s("ul",null,[(o(!0),a(I,null,U(h.value,e=>(o(),a("li",{key:e.id},u(e.title),1))),128))]),Q,s("ul",null,[(o(!0),a(I,null,U(m.value,e=>(o(),a("li",{key:e.id},u(e.title),1))),128))])])])]))}},ee=x(W,[["__scopeId","data-v-e6260b84"]]);export{ee as default};
